"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[559,212],{2559:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});var l=a(7294),r=a(6212),c=a(9680),s=a(1636);const n=function(e){var t=e.users,a=e.messages,n=e.id,m=e.user_id,i=(0,s.cI)({message:""}),o=i.post,d=i.data,h=i.setData,u=i.reset,E=(0,l.useRef)(),f=(0,s.qt)().url;return(0,l.useEffect)((function(){window.Echo.private("message.".concat(m)).listen("CreateMessage",(function(e){a.push(e.message),c.Inertia.reload()})),E.current.scrollTo(0,E.current.scrollHeight)}),[a]),l.createElement(r.default,null,l.createElement(s.Fb,null,l.createElement("title",null,"Pesan")),l.createElement("div",{className:"row",style:{height:"100vh",overflow:"hidden"}},l.createElement("div",{className:"col-md-4 px-0",style:{overflowY:"scroll",height:"100vh"}},t.map((function(e,t){return l.createElement(s.rU,{href:"/dashboard/chat/".concat(e.id),className:"text-decoration-none d-block ".concat(f==="/dashboard/chat/".concat(e.id)?"bg-success text-light":"bg-light text-dark"),key:t},l.createElement("div",{className:"p-2 border-bottom"},l.createElement("img",{src:null!==e.avatar?"/storage/".concat(e.avatar):"/images/avatar.png",alt:e,width:40,height:40,className:"image-fit rounded-circle"}),l.createElement("span",{className:"ms-2"},e.name)))}))),l.createElement("div",{ref:E,className:"col-md-8 scroll-slide",style:{overflowY:"scroll",height:"100vh"}},a&&a.map((function(e,t){return 1!==e.from_id?l.createElement("div",{className:"w-100 py-1 px-2 d-flex",key:t},l.createElement("div",{className:"p-2 bg-secondary text-light rounded",style:{maxWidth:200}},e.message)):l.createElement("div",{className:"w-100 py-1 px-2 d-flex justify-content-end",key:t},l.createElement("div",{className:"p-2 bg-primary text-light rounded",style:{maxWidth:200}},e.message))})),l.createElement("div",{className:"py-5"}))),l.createElement("div",{className:"col-md-6 py-2 position-fixed d-flex gap-2 bottom-0 ".concat("/dashboard/chat"===f?"d-none":""),style:{right:"2rem"}},l.createElement("input",{type:"text",placeholder:"mulai mengetik",value:d.message,onChange:function(e){return h("message",e.target.value)},className:"form-control form-control-sm border border-primary"}),l.createElement("div",{onClick:function(){o("/dashboard/chat/".concat(n),{onSuccess:u(),preserveScroll:!0,headers:{"X-Socket-ID":window.Echo.socketId()}})},className:"pointer bg-primary rounded d-flex justify-content-center align-items-center p-0",style:{width:32,height:30}},l.createElement("i",{className:"fa-solid fa-paper-plane text-light",style:{fontSize:"0.8rem"}}))))}},6212:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var l=a(7294),r=a(1636);const c=function(e){var t=e.title,a=e.link,c=(0,r.qt)().url;return l.createElement(r.rU,{className:"nav-link ".concat(c===a?"text-light":"text-secondary"),href:a},t)};const s=function(e){var t=e.children;return l.createElement(l.Fragment,null,l.createElement("header",{className:"navbar navbar-dark sticky-top bg-primary flex-md-nowrap p-0 shadow"},l.createElement("a",{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3",href:"#"},"ILMAFOOD"),l.createElement("div",{className:"d-flex"},l.createElement("div",null,l.createElement("span",{className:"text-white me-1"},"Admin"),l.createElement("i",{className:"fa-solid fa-circle-user text-white"})),l.createElement(r.rU,{href:"/logout",className:"mx-3 text-decoration-none"},l.createElement("span",{className:"text-white me-1"},"Logout"),l.createElement("i",{className:"fa-solid fa-arrow-right-from-bracket text-white"})))),l.createElement("div",{className:"container-fluid"},l.createElement("div",{className:"row"},l.createElement("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse"},l.createElement("div",{className:"position-sticky pt-3"},l.createElement("ul",{className:"nav flex-column"},l.createElement("li",{className:"nav-item"},l.createElement(c,{title:"Dashboard",link:"/dashboard"})),l.createElement("li",{className:"nav-item"},l.createElement(c,{title:"Produk",link:"/dashboard/product"})),l.createElement("li",{className:"nav-item"},l.createElement(c,{title:"Pesanan",link:"/dashboard/order"})),l.createElement("li",{className:"nav-item"},l.createElement(c,{title:"Pesan",link:"/dashboard/chat"})),l.createElement("li",{className:"nav-item"},l.createElement(c,{title:"Laporan",link:"/dashboard/report"}))))),l.createElement("main",{className:"col-md-9 ms-sm-auto col-lg-10"},t))))}}}]);